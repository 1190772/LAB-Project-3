@startuml
autonumber

'hide footbox
actor "Traffic Manager" as TM

participant ":ShipMovementsUI" as UI
participant ":ShipMovementsController" as CTRL
participant ":SearchShipController" as CTRL2
participant ":ShipPositionBST" as BST
participant ":ShipPosition" as SP

activate TM
TM -> UI : asks for details of a ship
activate UI

UI -> TM : requests data (code)

deactivate UI

TM -> UI : types requested data
activate UI
UI -> CTRL : chosenShip = findShip(code)
activate CTRL

CTRL -> CTRL2 : chosenShip = findShip(code)
activate CTRL2
deactivate CTRL2
note right of CTRL2 : More information in US102
|||

CTRL -> BST : attributes = getAttributes()
activate BST
autonumber 6.1
BST -> BST : firstPosition = getFirstPosition()

autonumber 6.1.1
BST -> SP : startBaseDateTime = firstPosition.getBaseDateTime()
activate SP
BST -> SP : departureLatitude = firstPosition.getLatitude()
BST -> SP : departureLongitude = firstPosition.getLongitude()
deactivate SP

autonumber 6.2
BST -> BST : lastPosition = getLastPosition()

autonumber 6.2.1
BST -> SP : endBaseDateTime = lastPosition.getBaseDateTime()
activate SP
BST -> SP : arrivalLatitude = lastPosition.getLatitude()
BST -> SP : arrivalLongitude = lastPosition.getLongitude()
deactivate SP

autonumber 6.3
BST -> BST : travelledDistance = travelledDistance()
BST -> BST : deltaDistance = deltaDistance()
BST -> BST : totalNumberMovements = totalNumberMovements()
BST -> BST : maxSOG = getMaxSOG()
BST -> BST : meanSOG = getMeanSOG()
BST -> BST : maxCOG = getMaxCOG()
BST -> BST : meanCOG = getMeanCOG()

autonumber 7
CTRL -> UI : result
deactivate BST
deactivate CTRL

UI --> TM : shows results
deactivate UI

deactivate TM

@enduml